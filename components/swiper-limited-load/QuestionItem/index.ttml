<sjs src="../../../utils/config.sjs" module="utils"></sjs>

<view class='questionItem' tt:if="{{item.question}}">
  <view class='question'>
    <span class='type'>{{item.typeStr}}</span>
    <HighLightContent keys='{{item.questionKeys}}' content="{{item.question}}" isHighLight='{{(isShowAnswer || isShowKeyWorld || isSeeMode)}}' />
  </view>

  <view class='buttons'>
    <!-- <view class='skill {{isShowKeyWorld && "highLight"}}' bindtap='onButtonClick' data-item='keyWorld' tt:if="{{item.questionKeys}}">
      <image src='../../../images/vip2.png' class='skillIcon' mode="widthFix" />
      关键字显示
    </view> -->
    <view class='skill {{isShowAnswer && "highLight"}}' bindtap='onButtonClick' data-item='answer'>
      <image src='../../../images/right.png' class='skillIcon' mode="widthFix" />
      答案显示
    </view>
    <SubjectAudio subjectItem='{{item}}' />
  </view>

  <view class='imgWrap' tt:if="{{item.imgName}}">
    <image class='img' bindtap="showPrview"  data-item="{{urlPrefix}}{{utils.getImgStep(item)}}{{utils.getImgNmae(item.imgName)}}"  src="{{urlPrefix}}{{utils.getImgStep(item)}}{{utils.getImgNmae(item.imgName)}}" mode="widthFix" />
  </view>
  <view class='options'>
    <SubjectOptions tt:for="{{item.options}}" tt:for-item="answerItem" tt:for-index="answerIndex" tt:key='$this' optionContent='{{answerItem}}' subjectItem='{{item}}' answerNum='{{answerIndex + 1}}' optionIndex='{{optionIndex}}' isConfirm='{{isSelected}}' isShowNow='{{isShowNow}}' isSwipering='{{isSwipering}}' isNowWrong="{{isNowWrong}}" isSeeMode="{{isSeeMode || isShowAnswer}}" wrongHistory='{{wrongHistory}}' rightHistory='{{rightHistory}}' bindOptionSelect='onOptionSelect' isSkillOpen='{{isShowAnswer || isShowKeyWorld || isSeeMode }}' />
  </view>
  <AnswerAndExplain subjectItem='{{item}}' isSeeMode='{{isSeeMode || isShowAnswer}}' wrongHistory='{{wrongHistory}}' rightHistory='{{rightHistory}}' isNowWrong='{{isNowWrong}}' isConfirm='{{isSelected}}' isShowNow='{{isShowNow}}' isSwipering='{{isSwipering}}' isShowAnswer='{{isShowAnswer}}' answer='{{answer}}' />

  <view class='confirmBtn {{optionIndex.length < 2 && "disableBtn"}}' tt:if="{{!isSelected && item.type == 3 && !isSwipering}}" bindtap="onAnswerConfirm" data-item="{{item}}">
    确定
  </view>
</view>
<!-- <view class="emptyBox" tt:else>
  <image class="emptyIcon" src="../../../images/learnPage.png" mode="widthFix" />
  <view class="emptyText">没题目拉~</view>
</view> -->